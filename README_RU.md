<p align="center">
  <img src="https://img.shields.io/badge/A4AD-API%20Gateway-00ADD8?style=for-the-badge&logo=go&logoColor=white" alt="A4AD API Gateway">
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Go-1.23+-00ADD8?style=flat-square&logo=go&logoColor=white" alt="Go">
  <img src="https://img.shields.io/badge/Fiber-2.52+-00ADD8?style=flat-square&logo=go&logoColor=white" alt="Fiber">
  <img src="https://img.shields.io/badge/License-MIT-green?style=flat-square" alt="License">
  <img src="https://img.shields.io/badge/Status-Early%20Development-orange?style=flat-square" alt="Status">
</p>

---

## üìù –û–ø–∏—Å–∞–Ω–∏–µ

**API Gateway** ‚Äî –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∫ –±—ç–∫–µ–Ω–¥—É —Ñ–æ—Ä—É–º–∞ A4AD. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é, JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, rate limiting, CORS –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üö™ **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞** ‚Äî –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API –¥–ª—è –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
- üîê **JWT-–≤–∞–ª–∏–¥–∞—Ü–∏—è** ‚Äî –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤
- ‚ö° **Rate Limiting** ‚Äî –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ Redis –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/IP
- üåê **CORS** ‚Äî –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- üìä **Prometheus-–º–µ—Ç—Ä–∏–∫–∏** ‚Äî –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- üè• **Health Checks** ‚Äî –ü—Ä–æ–±—ã –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –¥–ª—è Kubernetes
- üîÑ **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è** ‚Äî –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- üìù **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å trace ID

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **–Ø–∑—ã–∫:** Go 1.23+
- **–§—Ä–µ–π–º–≤–æ—Ä–∫:** Fiber v2 (–≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π HTTP-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫)
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** golang-jwt/jwt v5
- **Rate Limiting:** Redis —Å go-redis/v9
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** Viper –¥–ª—è YAML/ENV
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** Zap (—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ)
- **–ú–µ—Ç—Ä–∏–∫–∏:** Prometheus client
- **–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞:** OpenTelemetry

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```mermaid
flowchart LR
    Browser(["–ë—Ä–∞—É–∑–µ—Ä / –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"]) --> Gateway["API Gateway<br/>Go + Fiber"]
    Gateway --> Redis[("Redis<br/>Rate Limit")]
    Gateway --> Auth["Auth Service<br/>Java + Spring Boot"]
    Gateway --> Profile["Profile Service<br/>Go + PostgreSQL"]
    Gateway --> Post["Post Service<br/>Go + PostgreSQL"]
    Gateway --> Comment["Comment Service<br/>NestJS + MongoDB"]
    Gateway --> Notification["Notification Service<br/>NestJS + Redis"]
    
    Auth --> AuthDB[("PostgreSQL")]
    Profile --> ProfileDB[("PostgreSQL")]
    Post --> PostDB[("PostgreSQL")]
    Comment --> MongoDB[("MongoDB")]
    Notification --> NotifRedis[("Redis")]
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.23 –∏–ª–∏ –≤—ã—à–µ
- Redis 7.x
- Docker & Docker Compose (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**
   ```bash
   git clone https://github.com/A4AD-team/api-gateway.git
   cd api-gateway
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
   ```bash
   go mod download
   ```

3. **–ó–∞–ø—É—Å–∫ Redis:**
   ```bash
   docker compose up -d redis
   ```

4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```bash
   cp .env.example .env
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
   ```

5. **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞:**
   ```bash
   # –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
   go run ./cmd/gateway

   # –ò–ª–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
   go run ./cmd/gateway -config=./config/local.yaml
   ```

–®–ª—é–∑ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8080`

---

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è |
|------------|----------|----------------------|--------------|
| `APP_ENV` | –û–∫—Ä—É–∂–µ–Ω–∏–µ (development, staging, production) | `development` | –ù–µ—Ç |
| `APP_PORT` | –ü–æ—Ä—Ç HTTP-—Å–µ—Ä–≤–µ—Ä–∞ | `8080` | –ù–µ—Ç |
| `APP_HOST` | –•–æ—Å—Ç HTTP-—Å–µ—Ä–≤–µ—Ä–∞ | `0.0.0.0` | –ù–µ—Ç |
| `REDIS_ADDR` | –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis | `localhost:6379` | –î–∞ |
| `REDIS_PASSWORD` | –ü–∞—Ä–æ–ª—å Redis | `` | –ù–µ—Ç |
| `REDIS_DB` | –ù–æ–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Redis | `0` | –ù–µ—Ç |
| `RATE_LIMIT_REQUESTS` | –ú–∞–∫—Å. –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ –æ–∫–Ω–æ | `100` | –ù–µ—Ç |
| `RATE_LIMIT_WINDOW` | –û–∫–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö | `60` | –ù–µ—Ç |
| `JWT_SECRET` | –°–µ–∫—Ä–µ—Ç –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ JWT | `` | –î–∞ |
| `AUTH_SERVICE_URL` | URL —Å–µ—Ä–≤–∏—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ | `http://localhost:8081` | –î–∞ |
| `PROFILE_SERVICE_URL` | URL —Å–µ—Ä–≤–∏—Å–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π | `http://localhost:8082` | –î–∞ |
| `POST_SERVICE_URL` | URL —Å–µ—Ä–≤–∏—Å–∞ –ø–æ—Å—Ç–æ–≤ | `http://localhost:8083` | –î–∞ |
| `COMMENT_SERVICE_URL` | URL —Å–µ—Ä–≤–∏—Å–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ | `http://localhost:8084` | –î–∞ |
| `NOTIFICATION_SERVICE_URL` | URL —Å–µ—Ä–≤–∏—Å–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π | `http://localhost:8085` | –î–∞ |
| `CORS_ALLOWED_ORIGINS` | –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ CORS-–∏—Å—Ç–æ—á–Ω–∏–∫–∏ | `http://localhost:3000` | –ù–µ—Ç |
| `LOG_LEVEL` | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è | `info` | –ù–µ—Ç |

---

## üì° –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ü—É–±–ª–∏—á–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (–±–µ–∑ JWT)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------|------|----------|------------|
| `POST` | `/auth/sign-up` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | Auth Service |
| `POST` | `/auth/sign-in` | –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | Auth Service |
| `POST` | `/auth/refresh` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ | Auth Service |
| `GET` | `/health` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è | Gateway |
| `GET` | `/metrics` | –ú–µ—Ç—Ä–∏–∫–∏ Prometheus | Gateway |

### –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (—Ç—Ä–µ–±—É–µ—Ç—Å—è JWT)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------|------|----------|------------|
| `GET` | `/api/v1/users/me` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ | Auth Service |
| `GET` | `/api/v1/profiles/:username` | –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | Profile Service |
| `PATCH` | `/api/v1/profiles/me` | –û–±–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å | Profile Service |
| `GET` | `/api/v1/posts` | –°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤ | Post Service |
| `POST` | `/api/v1/posts` | –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç | Post Service |
| `GET` | `/api/v1/posts/:id` | –î–µ—Ç–∞–ª–∏ –ø–æ—Å—Ç–∞ | Post Service |
| `PATCH` | `/api/v1/posts/:id` | –û–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å—Ç | Post Service |
| `DELETE` | `/api/v1/posts/:id` | –£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç | Post Service |
| `POST` | `/api/v1/posts/:id/like` | –õ–∞–π–∫/–¥–∏–∑–ª–∞–π–∫ –ø–æ—Å—Ç–∞ | Post Service |
| `GET` | `/api/v1/comments` | –°–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ | Comment Service |
| `POST` | `/api/v1/comments` | –°–æ–∑–¥–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | Comment Service |
| `PATCH` | `/api/v1/comments/:id` | –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | Comment Service |
| `DELETE` | `/api/v1/comments/:id` | –£–¥–∞–ª–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | Comment Service |
| `POST` | `/api/v1/comments/:id/like` | –õ–∞–π–∫/–¥–∏–∑–ª–∞–π–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è | Comment Service |
| `GET` | `/api/v1/notifications` | –°–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π | Notification Service |
| `PATCH` | `/api/v1/notifications/:id/read` | –û—Ç–º–µ—Ç–∏—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º | Notification Service |

---

## ü©∫ Health Checks

–®–ª—é–∑ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç health-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏:

| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/health` | `GET` | –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å –∑–¥–æ—Ä–æ–≤—å—è (200 OK –µ—Å–ª–∏ –≤—Å—ë —Ö–æ—Ä–æ—à–æ) |
| `/health/live` | `GET` | Liveness-–ø—Ä–æ–±–∞ –¥–ª—è Kubernetes |
| `/health/ready` | `GET` | Readiness-–ø—Ä–æ–±–∞ ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ downstream-—Å–µ—Ä–≤–∏—Å–æ–≤ |

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞

```json
{
  "status": "healthy",
  "timestamp": "2026-02-12T15:30:00Z",
  "version": "0.1.0",
  "services": {
    "auth": "healthy",
    "profile": "healthy",
    "post": "healthy",
    "comment": "healthy",
    "notification": "healthy"
  }
}
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
go test ./...

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
go test -cover ./...

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
go test -run TestRateLimiter ./...
```

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT ‚Äî –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE).

---

<p align="center">
  <strong>–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –∫–æ–º–∞–Ω–¥–æ–π A4AD</strong>
</p>
